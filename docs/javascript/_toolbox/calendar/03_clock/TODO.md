# TODO

## d01-calculate-age

### ボタンの入力受け付けについて

現状は、`input[type="date"]` がどのような状態でも「計算」ボタンが押せる。だが入力値が正しくないと処理をしないため、ユーザーに なぜ処理してくれないか を伝える手段を用意していないのが現状。

案として、「計算」（あと和暦入力の「決定」）ボタンの `disabled` 管理が挙げられる。`input` 要素に `change` イベントを用意、適切な書式になった際に `disabled` を解除するようにする。初期状態となるHTML文には、デフォルトで `disabled` と記入しておく必要？

### `input[type="date"]` のブラウザ互換性について

`input[type="date"]` はブラウザが対応している状態においては利便性が高い一方、非対応の場合が問題となる。

`input` の入力値は `yyyy-MM-dd` の形式となっており、コードもそれ前提に処理を行う。だが非対応の場合、`input[type="text"]` と同様になるため、多様な入力ができてしまう。そして `20000123` ではダメで、ハイフンを交えた `2000-01-23` という入力をユーザーにしてもらわなければならない。

パターン指定（例：`pattern="\d{4}-\d{2}-\d{2}"`）で入力値を制限するという手法が、まず考えられる。この場合、パターンに一致しなければ「適切な形で入力してください」的なポップアップが表示されるので、間違いであることは伝わるが**どこがどのように誤りなのか**はユーザーには伝わらない。この場合には、最低限でもラベル等に**適切な入力例**がわかるようする必要がある。

一方で、`input[type="date"]` が有効な状況下で「入力値は `yyyy-MM-dd` の形式でなければなりません」というラベルがあると、ユーザーは混乱してしまう恐れがある。そこで、**非対応かを調べ、非対応の場合のみラベルで注記を促す**ようすることがベターな選択肢として浮上する。機能を検証する手段として、Javascript上で要素を生成して確認する手法がポピュラーである。

```javascript
const inputDateTest = document.createElement('input');
try {
  inputDateTest.type = 'date';
} catch (e) {
  console.log(e.message);
}
if (inputDateTest.type === 'text') {
  // date 非対応のためのコード
}
```

## d02-clock

### スタイリング

### アクセシビリティ性のある時計とは？

本リポジトリの特徴として、アクセシビリティ性を挙げている。その上で、**時計にどのような UI が求められているか**を考える必要がある。

- 一般
  - どのようなサイズでも、見栄え良く、きちんと認識できるようにしたい
  - ボタンを押して時刻読み上げ、というのは必要？
  - 「音」設定項目がある以上、それに連動させるべき？
- キーボード操作
  - 特段の何か、が必要ではない？
- スクリーンリーダー
  - `aria-polite` で逐次時刻を読み上げるのは論外
  - ボタン内のテキストは都度更新されるので、`aria-hidden` で隠す？
  - その上で、ボタンの `aria-label` を「時刻読み上げ」とし、押下時に読み上げ？
  - 「音」設定は、スクリ的には不要な項目であるため、その設定が無いと読み上げしないのは不便
  - 代替として、`sr-only` 特性を持つ `output` 要素を生成し、読み上げに使う？
    - ただし、再度押下時に既存のものをどう扱うかが問題となる
